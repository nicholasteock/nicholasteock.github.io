!function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.require){var n={},i={},t=function(e,n){return{}.hasOwnProperty.call(e,n)},s=function(e,n){var i,t,s=[];i=/^\.\.?(\/|$)/.test(n)?[e,n].join("/").split("/"):n.split("/");for(var a=0,o=i.length;o>a;a++)t=i[a],".."===t?s.pop():"."!==t&&""!==t&&s.push(t);return s.join("/")},a=function(e){return e.split("/").slice(0,-1).join("/")},o=function(n){return function(i){var t=a(n),o=s(t,i);return e.require(o,n)}},r=function(e,n){var t={id:e,exports:{}};return i[e]=t,n(t.exports,o(e),t),t.exports},g=function(e,a){var o=s(e,".");if(null==a&&(a="/"),t(i,o))return i[o].exports;if(t(n,o))return r(o,n[o]);var g=s(o,"./index");if(t(i,g))return i[g].exports;if(t(n,g))return r(g,n[g]);throw new Error('Cannot find module "'+e+'" from "'+a+'"')},d=function(e,i){if("object"==typeof e)for(var s in e)t(e,s)&&(n[s]=e[s]);else n[e]=i},u=function(){var e=[];for(var i in n)t(n,i)&&e.push(i);return e};e.require=g,e.require.define=d,e.require.register=d,e.require.list=u,e.require.brunch=!0}}(),require.register("application",function(e,n,i){var t=!1,s=5,a=0,o=0,r=0,g=3,d=["main","ingredients","tossing","share"],u=encodeURIComponent("http://cny.2359media.com"),m="Happy Chinese New year, I wish you prosperity, wealth and success! Letâ€™s share a Lou Hei together, click on the link to lou "+u,p=function(){$(".app-stage").click(),$(".stage").addClass("hide"),$(".in").removeClass("in"),$(".bounce").removeClass("bounce"),a=0,o=0,tossIdx=0,$(".app-stage").removeClass("hide"),$(document).trigger("disable_shaker")},l=function(){function e(n,i){$(".js-plate-"+n).addClass("hide"),$(".js-plate-"+(n+1)).removeClass("hide"),i>n?setTimeout(function(){window.requestAnimFrame(function(){e(n+1,i)})},1e3/6):setTimeout(function(){t=!1,v(),c()},500)}t||(t=!0,window.requestAnimFrame(function(){e(0,5)}))},c=function(){t||(t=!0,$(".in").removeClass("in"),$(".bounce").removeClass("bounce"),$(".js-ingredient-"+a).removeClass("hide").addClass("in"),setTimeout(function(){t=!1},1200))},f=function(){t||(t=!0,$(".in").removeClass("in"),$(".bounce").removeClass("bounce"),$(".js-ingredient-"+a).addClass("hide").addClass("in"),$(".js-desc-"+a).addClass("bounce"),$(".js-main-"+a).addClass("hide"),$(".js-main-"+(a+1)).removeClass("hide"),a++,setTimeout(function(){t=!1,_()?v():c()},3700))},h=function(){var e=function(n,i){$(".js-chunk-"+n).addClass("hide"),i-1>n?setTimeout(function(){window.requestAnimFrame(function(){e(n+1,i)})},1e3/3):($(".js-message-0").addClass("hide"),$(".js-message-1").removeClass("hide").addClass("bounce"),$(".chunks-container").addClass("hide"),$(".share-container").addClass("in"),$(".credits-container").addClass("in"))};window.requestAnimFrame(function(){e(0,6)})},_=function(){return a===s},v=function(){$("."+d[o]+"-stage").addClass("hide"),o++,$("."+d[o]+"-stage").removeClass("hide"),"tossing"===d[o]&&$(document).trigger("enable_shaker")},w=function(){u="whatsapp://send?text="+m,location.href=u},C=function(){$(document).trigger("disable_shaker"),$(".toss-banner").addClass("opaque"),$(".toss-base").addClass("hide"),$(".js-tossbase").removeClass("hide");var e=function(e){function n(t,s){return $(".js-toss-"+t).removeClass("hide"),$(".js-toss-"+(t-1)).addClass("hide"),t>s?e():void setTimeout(function(){n(t+1,s)},1e3/i)}var i=8,t=17;n(0,t)},n=function(){r+=1,$(".js-tossmessage-"+(r-1)).addClass("hide"),$(".js-tossmessage-"+r).removeClass("opaque hide"),$(".js-tossbase").addClass("hide"),$(".js-tossbase-"+r).removeClass("hide"),g>r?($(".js-tossmessage-"+r).removeClass("hide"),$(document).trigger("enable_shaker")):setTimeout(function(){v()},125)};e(n)};i.exports={initialize:p,plateClickHandler:l,showIngredient:c,showIngredientDesc:f,isLastIngredient:_,nextStage:v,toss:C,showShareButtons:h,shareLink:w}}),require.register("initialize",function(e,n){var i=(n("reqAnimFramePolyfill"),n("shaker")),t=n("application");$(function(){$(document).ready(function(){$(".loading-overlay").addClass("hide")}),t.initialize(),$(".main-stage .js-plate-0").click(function(){$(".audio-player")[0].play(),t.plateClickHandler()}),$(".ingredients-stage .small-plate").click(function(){t.showIngredientDesc()}),$(".share-stage .chunks-container").click(function(){t.showShareButtons()}),$(".js-share-whatsapp").click(function(){$(".audio-player")[0].pause(),ga("send","event","button","click","WhatsApp Button"),setTimeout(function(){t.shareLink()},100)}),$(".share-logo").on("click",function(){ga("send","event","button","click","2359 Visit")}),$(".share-link").click(function(){$(".audio-player")[0].pause(),this.setSelectionRange(0,25)}),$(document).on("enable_shaker",function(){i.enable()}),$(document).on("disable_shaker",function(){i.disable()}),$(document).on("protoss",function(){t.toss()});var e,n,s;"undefined"!=typeof document.hidden?(e="hidden",s="visibilitychange",n="visibilityState"):"undefined"!=typeof document.mozHidden?(e="mozHidden",s="mozvisibilitychange",n="mozVisibilityState"):"undefined"!=typeof document.msHidden?(e="msHidden",s="msvisibilitychange",n="msVisibilityState"):"undefined"!=typeof document.webkitHidden&&(e="webkitHidden",s="webkitvisibilitychange",n="webkitVisibilityState"),document.addEventListener(s,function(){document[e]?$(".audio-player")[0].pause():$(".audio-player")[0].play()},!1)})}),require.register("preload",function(e,n,i){i.exports=function(e,n){var i=new PxLoader;i.addCompletionListener(n);for(var t=0;t<e.length;t++){var s=new PxLoaderImage(e[t]);i.addImage(s)}return this.start=function(){i.start()},this}}),require.register("preloader",function(e,n,i){i.exports=function(e){var i=n("preload"),t=new i(["images/rotate_device.png","images/firstpage/logo.png","images/firstpage/firstpage_welcome_text.png","images/firstpage/loadingplates_01.png","images/firstpage/loadingplates_02.png","images/firstpage/loadingplates_03.png","images/firstpage/loadingplates_04.png","images/firstpage/loadingplates_05.png","images/firstpage/loadingplates_06.png","images/firstpage/loadingplates_07.png","images/ingredients/add_fish_text.png","images/ingredients/add_lime_text.png","images/ingredients/add_peppercinnamon_text.png","images/ingredients/add_sauce_text.png","images/ingredients/add_crackers_text.png","images/ingredients/fish_text.png","images/ingredients/lime_text.png","images/ingredients/peppercinnamon_text.png","images/ingredients/sauce_text.png","images/ingredients/crackers_text.png","images/ingredients/mainplate_ingredients_0.png","images/ingredients/mainplate_ingredients_1.png","images/ingredients/mainplate_ingredients_2.png","images/ingredients/mainplate_ingredients_3.png","images/ingredients/mainplate_ingredients_4.png","images/ingredients/mainplate_ingredients_5.png","images/ingredients/miniplate_0.png","images/ingredients/miniplate_1.png","images/ingredients/miniplate_2.png","images/ingredients/miniplate_3.png","images/ingredients/miniplate_4.png","images/tossing/tossing_start_text.png","images/tossing/tossing_halfway_text.png","images/tossing/tossing_final_text.png","images/tossing/mainplate_tossed_base.png","images/tossing/mainplate_tossed_start.png","images/tossing/mainplate_tossed_halfway.png","images/tossing/mainplate_tossed_completely.png","images/tossing/tossing_0.png","images/tossing/tossing_1.png","images/tossing/tossing_2.png","images/tossing/tossing_3.png","images/tossing/tossing_4.png","images/tossing/tossing_5.png","images/tossing/tossing_6.png","images/tossing/tossing_7.png","images/tossing/tossing_8.png","images/sharing/share_start_text.png","images/sharing/share_end_text.png","images/sharing/mainplate_eaten.png","images/mainplate_eatenpiece_0.png","images/mainplate_eatenpiece_1.png","images/mainplate_eatenpiece_2.png","images/mainplate_eatenpiece_3.png","images/mainplate_eatenpiece_4.png","images/mainplate_eatenpiece_5.png","images/sharing/icon_wa.png","images/sharing/icon_sms.png","images/sharing/logo.png"],e);t.start()}}),require.register("reqAnimFramePolyfill",function(){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()}),require.register("shaker",function(e,n,i){function t(e){d&&(s===a?l(e):(s===o||s===r)&&c(e))}var s,a=0,o=1,r=2,g=-1;s=/Android/i.test(navigator.userAgent)?a:/iPhone|iPad|iPod/i.test(navigator.userAgent)?o:/Windows/i.test(navigator.userAgent)?r:g;var d=!1,u=!1,m=function(){d=!0,window.DeviceMotionEvent?window.addEventListener("devicemotion",t):console.error("DeviceMotionEvent undefined")},p=function(){d=!1,window.DeviceMotionEvent?window.removeEventListener("devicemotion",t):console.error("DeviceMotionEvent undefined")},l=function(e){var n=Math.round(e.accelerationIncludingGravity.z);return n>0?void(u||(u=!0)):void(10>n&&u&&(u=!1,p(),$(document).trigger("protoss")))},c=function(e){var n=Math.round(e.accelerationIncludingGravity.z);return n>=2?void(u||(u=!0)):void(-12>=n&&u&&(u=!1,p(),$(document).trigger("protoss")))},f=function(){return window.DeviceOrientationEvent&&"undefined"!=typeof window.orientation};i.exports={supportsTilt:f,enable:m,disable:p}});